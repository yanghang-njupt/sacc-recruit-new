{"version":3,"file":"js/483.90b5a18b.js","mappings":"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","sources":["webpack://sacc-recruit-new/./src/views/operator/answerDetail.vue","webpack://sacc-recruit-new/src/views/operator/answerDetail.vue","webpack://sacc-recruit-new/./src/views/operator/answerDetail.vue?ff9d","webpack://sacc-recruit-new/./src/views/operator/answerDetail.vue?8704","webpack://sacc-recruit-new/./src/api/operator.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"answerDetail\"}},[_c('div',{staticClass:\"detail-body\"},[_c('div',{staticClass:\"body-head\"},[_c('span',{staticClass:\"body-title\"},[_vm._v(_vm._s(_vm.title))]),_c('div',{staticClass:\"space\"}),_c('el-link',{staticClass:\"backBtn\",attrs:{\"type\":\"primary\",\"underline\":false},on:{\"click\":_vm.back}},[_vm._v(\"返回\")])],1),_c('div',{staticClass:\"body-main\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"stripe\":\"\",\"height\":\"80vh\",\"data\":_vm.table,\"header-cell-style\":\"white-space: nowrap\"}},[_c('el-table-column',{attrs:{\"prop\":\"stuId\",\"label\":\"学号\"}}),_c('el-table-column',{attrs:{\"prop\":\"process\",\"label\":\"题目完成度\"}}),_c('el-table-column',{attrs:{\"prop\":\"begin\",\"label\":\"开始答题时间\"}}),_c('el-table-column',{attrs:{\"prop\":\"end\",\"label\":\"最后提交时间\"}}),_c('el-table-column',{attrs:{\"prop\":\"process_correcting\",\"label\":\"批改情况\"}}),_c('el-table-column',{key:\"slot\",attrs:{\"fixed\":\"right\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\",\"plain\":\"\",\"cursor:pointer\":\"\"},on:{\"click\":function($event){return _vm.showIndex(scope.$index, scope.row)}}},[_vm._v(\"查看\")])]}}])})],1),_c('div',{staticClass:\"describe_info\"},[_c('h2',[_vm._v(\"答题人数: \"+_vm._s(_vm.peopleNum))]),_c('h2',[_vm._v(\"未批改题目数量: \"+_vm._s(_vm.processedNot))]),_c('div',{staticClass:\"search\"},[_c('el-input',{attrs:{\"placeholder\":\"请输入要查询的学号\",\"clearable\":\"\"},on:{\"input\":_vm.searchOne},model:{value:(_vm.searchUid),callback:function ($$v) {_vm.searchUid=$$v},expression:\"searchUid\"}})],1)])],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"answerDetail\">\r\n    <div class=\"detail-body\">\r\n      <div class=\"body-head\">\r\n        <span class=\"body-title\">{{ title }}</span>\r\n        <div class=\"space\"></div>\r\n        <el-link class=\"backBtn\" type=\"primary\" :underline=\"false\" @click=\"back\"\r\n          >返回</el-link\r\n        >\r\n      </div>\r\n      <div class=\"body-main\">\r\n        <el-table\r\n          stripe\r\n          height=\"80vh\"\r\n          :data=\"table\"\r\n          style=\"width: 100%\"\r\n          header-cell-style=\"white-space: nowrap\"\r\n        >\r\n          <el-table-column prop=\"stuId\" label=\"学号\"> </el-table-column>\r\n          <el-table-column prop=\"process\" label=\"题目完成度\"> </el-table-column>\r\n          <el-table-column prop=\"begin\" label=\"开始答题时间\"> </el-table-column>\r\n          <el-table-column prop=\"end\" label=\"最后提交时间\"></el-table-column>\r\n          <el-table-column\r\n            prop=\"process_correcting\"\r\n            label=\"批改情况\"\r\n          ></el-table-column>\r\n          <el-table-column fixed=\"right\" label=\"操作\" key=\"slot\">\r\n            <template #default=\"scope\">\r\n              <el-button\r\n                size=\"mini\"\r\n                type=\"primary\"\r\n                plain\r\n                @click=\"showIndex(scope.$index, scope.row)\"\r\n                cursor:pointer\r\n                >查看</el-button\r\n              >\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <div class=\"describe_info\">\r\n          <h2>答题人数: {{ peopleNum }}</h2>\r\n          <h2>未批改题目数量: {{ processedNot }}</h2>\r\n          <div class=\"search\">\r\n            <el-input\r\n              placeholder=\"请输入要查询的学号\"\r\n              v-model=\"searchUid\"\r\n              @input=\"searchOne\"\r\n              clearable\r\n            ></el-input>\r\n            <!-- <el-button\r\n              type=\"primary\"\r\n              style=\"width: 100%; padding: 1vh; margin-top: 1vh\"\r\n              plain\r\n              @click=\"searchOne\"\r\n              @keydown.enter=\"searchOne\"\r\n              >点击查看</el-button\r\n            > -->\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getDetail } from \"../../api/operator\";\r\nexport default {\r\n  name: \"OperatorAnswer\",\r\n  data() {\r\n    return {\r\n      title: this.$route.query.title,\r\n      peopleNum: \"\",\r\n      processedNot: \"\",\r\n      tableData: [],\r\n      table: [],\r\n      searchUid: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    back() {\r\n      this.$router.push(\"/operatorhome\");\r\n      location.reload();\r\n    },\r\n    showIndex(index, row) {\r\n      this.$router.push(\r\n        `/operatorhome/answer/${this.$router.currentRoute.params.unitId}/${row.stuId}`\r\n      );\r\n    },\r\n    searchOne() {\r\n      this.table = this.tableData.filter((item) => {\r\n        console.log(item);\r\n        if (item.stuId.indexOf(this.searchUid) !== -1) {\r\n          return item;\r\n        }\r\n      });\r\n    },\r\n  },\r\n  mounted() {\r\n    if (localStorage.getItem(\"role\") === \"1\") {\r\n      getDetail(this.$router.currentRoute.params.unitId).then((res) => {\r\n        const data = res.data.data;\r\n        console.log(data);\r\n        // console.log(location);\r\n        for (let i = 0; i < data.stu_list.length; i++) {\r\n          data.stu_list[i].process =\r\n            data.stu_list[i].finishedQuestionNum + \"/\" + data.stu_list[i].totalQuestionNum;\r\n          data.stu_list[i].process_correcting =\r\n            data.stu_list[i].finishedCorrectNum +\r\n            \"/\" +\r\n            data.stu_list[i].totalQuestionNum;\r\n        }\r\n        this.peopleNum = data.tota_account_num;\r\n        this.processedNot = data.total_problem_num;\r\n        this.table = data.stu_list;\r\n        this.tableData = data.stu_list;\r\n      });\r\n    } else {\r\n      this.$router.back();\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#answerDetail {\r\n  margin: auto;\r\n  width: 60vw;\r\n  background: #fff;\r\n  padding: 4vh;\r\n  border-radius: 0.5vw;\r\n}\r\n.body-head {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-around;\r\n  margin: 3vh 0;\r\n}\r\n.body-title {\r\n  font-size: 3.3vh;\r\n  font-weight: 900;\r\n  letter-spacing: 0px;\r\n  line-height: 0px;\r\n  color: rgba(33, 32, 32, 1);\r\n}\r\n.space {\r\n  margin: auto;\r\n}\r\n.body-main {\r\n  z-index: -10;\r\n  display: flex;\r\n  flex-direction: row;\r\n}\r\n.describe_info {\r\n  margin-left: 2vw;\r\n}\r\n\r\n::v-deep .el-table th.el-table__cell > .cell {\r\n  white-space: nowrap;\r\n}\r\n\r\n.el-table thead tr {\r\n  background-color: #f5f5f5 !important;\r\n}\r\ntr:nth-child(even) {\r\n  background: #f5f5f5;\r\n}\r\n.el-table .success-row {\r\n  background: #ffffff;\r\n}\r\n.search {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./answerDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./answerDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./answerDetail.vue?vue&type=template&id=cebbbe00&scoped=true&\"\nimport script from \"./answerDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./answerDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./answerDetail.vue?vue&type=style&index=0&id=cebbbe00&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cebbbe00\",\n  null\n  \n)\n\nexport default component.exports","import { apis } from \".\";\r\n\r\n/**\r\n * 获取整体答题情况\r\n * @param unit 比赛id\r\n * @return axios 对象\r\n */\r\nexport const getDetail = (unitId) => {\r\n  return apis({\r\n    method: \"get\",\r\n    url: \"/judger/getList?unitId=\" + unitId,\r\n    data: {},\r\n  });\r\n};\r\n\r\n/**\r\n * 获取具体某人的答题情况\r\n * @param unit 比赛\r\n * @param stuId 学号\r\n * @return axios 对象\r\n */\r\nexport const getOneDetail = (unitId, stuId) => {\r\n  return apis({\r\n    method: \"get\",\r\n    url: \"/judger/getOne\",\r\n    params: {\r\n      unitId: unitId,\r\n      stuId: stuId,\r\n    },\r\n    data: {},\r\n  });\r\n};\r\n\r\n/**\r\n * 提交批改\r\n * @param array(id: 题目序号, score: 分数)\r\n * @return axios对象\r\n */\r\nexport const operatorAnswer = (array) => {\r\n  let data = [];\r\n  for (let item of array) {\r\n    data.push({ id: item.id, score: item.score });\r\n  }\r\n  data = JSON.stringify(data);\r\n  // data = [\r\n  //   {\r\n  //     id: 25,\r\n  //     score: 7,\r\n  //   },\r\n  //   {\r\n  //     id: 81,\r\n  //     score: 66,\r\n  //   },\r\n  //   {\r\n  //     id: 67,\r\n  //     score: 12,\r\n  //   },\r\n  //   {\r\n  //     id: 85,\r\n  //     score: 59,\r\n  //   },\r\n  //   {\r\n  //     id: 80,\r\n  //     score: 84,\r\n  //   },\r\n  // ];\r\n  // console.log(data);\r\n\r\n  return apis({\r\n    method: \"post\",\r\n    headers: {\r\n      \"content-Type\": \"application/json\",\r\n    },\r\n    url: \"/reader/judge\",\r\n    data,\r\n  });\r\n};\r\n\r\n/**\r\n * 通过这个人的学号获取下一个人的学号\r\n * @param stuId 学号\r\n * @return axios对象\r\n */\r\nexport const getNextStuId = (stuId) => {\r\n  return apis({\r\n    method: \"get\",\r\n    url: \"/reader/getNextStuId\",\r\n    params: { stuId: stuId },\r\n  });\r\n};\r\n"],"names":["render","_vm","this","_c","_self","attrs","staticClass","_v","_s","title","on","back","staticStyle","table","key","scopedSlots","_u","fn","scope","$event","showIndex","$index","row","peopleNum","processedNot","searchOne","model","value","searchUid","callback","$$v","expression","staticRenderFns","name","data","tableData","methods","location","console","mounted","getDetail","component","unitId","apis","method","url","getOneDetail","stuId","params","operatorAnswer","array","item","push","id","score","JSON","stringify","headers","getNextStuId"],"sourceRoot":""}